<ion-content fullscreen class="reset-page">
  <main class="container" role="main">
    <section class="card" aria-labelledby="title-reset">

      <!-- Left: branding/info -->
      <aside class="left" aria-hidden="false">
        <div class="brand">
          <div class="logo">MG</div>
          <h3>MisGastos</h3>
        </div>
        <p>Crea una nueva contrase침a segura para tu cuenta. Aseg칰rate de que sea diferente a las anteriores.</p>

        <div class="promo" aria-hidden="true">游댏 Tu seguridad es importante</div>
      </aside>

      <!-- Right: reset form -->
      <div class="right" aria-labelledby="title-reset">
        <h2 id="title-reset">Establecer Nueva Contrase침a</h2>
        <p class="sub">Ingresa una nueva contrase침a segura</p>

        <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" novalidate *ngIf="tokenValido">
          <div class="input-group" title="Nueva contrase침a">
            <div class="icon"><ion-icon name="lock-closed-outline"></ion-icon></div>
            <input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Nueva contrase침a" aria-label="Nueva contrase침a" />
            <button type="button" class="icon-btn" (click)="togglePassword('password')">
              <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
            </button>
          </div>
          <ion-text color="danger" *ngIf="resetForm.get('password')?.invalid && resetForm.get('password')?.touched">
            <small class="error-text">M칤nimo 6 caracteres</small>
          </ion-text>

          <div class="input-group" title="Confirmar contrase침a">
            <div class="icon"><ion-icon name="lock-closed-outline"></ion-icon></div>
            <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmarPassword" placeholder="Confirmar contrase침a" aria-label="Confirmar contrase침a" />
            <button type="button" class="icon-btn" (click)="togglePassword('confirm')">
              <ion-icon [name]="showConfirmPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
            </button>
          </div>
          <ion-text color="danger" *ngIf="resetForm.get('confirmarPassword')?.invalid && resetForm.get('confirmarPassword')?.touched">
            <small class="error-text">Las contrase침as no coinciden</small>
          </ion-text>

          <button type="submit" class="btn" [disabled]="!resetForm.valid">
            <ion-icon name="checkmark-outline"></ion-icon>
            Actualizar Contrase침a
          </button>

          <button type="button" class="btn-secondary" (click)="volverAlLogin()">
            <ion-icon name="arrow-back-outline"></ion-icon>
            Volver al inicio de sesi칩n
          </button>

          <div class="small">Aseg칰rate de crear una contrase침a fuerte y 칰nica.</div>
        </form>
      </div>
    </section>
  </main>
</ion-content>
