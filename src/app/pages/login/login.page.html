<ion-content fullscreen class="login-page">
  <main class="container" role="main">
    <section class="card" aria-labelledby="title-login">

      <!-- Left: branding/info -->
      <aside class="left" aria-hidden="false">
        <div class="brand">
          <div class="logo">MG</div>
          <h3>MisGastos</h3>
        </div>
        <p>Organiza tus finanzas personales de manera simple. Registra tus gastos y analiza tus h치bitos desde cualquier dispositivo.</p>

        <div class="promo" aria-hidden="true">游늵 Visualiza tus gastos con claridad</div>
      </aside>

      <!-- Right: login form -->
      <div class="right" aria-labelledby="title-login">
        <h2 id="title-login">Iniciar sesi칩n</h2>
        <p class="sub">Accede a tu cuenta para controlar tus finanzas</p>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
          <div class="input-group" title="Correo electr칩nico">
            <div class="icon"><ion-icon name="mail-outline"></ion-icon></div>
            <input type="email" formControlName="email" placeholder="Correo electr칩nico" aria-label="Correo electr칩nico" inputmode="email" />
          </div>
          <ion-text color="danger" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
            <small class="error-text">Correo inv치lido</small>
          </ion-text>

          <div class="input-group" title="Contrase침a">
            <div class="icon"><ion-icon name="lock-closed-outline"></ion-icon></div>
            <input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Contrase침a" aria-label="Contrase침a" />
            <button type="button" class="icon-btn" (click)="togglePassword()">
              <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
            </button>
          </div>
          <ion-text color="danger" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            <small class="error-text">M칤nimo 6 caracteres</small>
          </ion-text>

          <div class="row-between">
            <label style="display:flex;align-items:center;gap:8px;font-size:0.95rem;color:#475569;">
              <ion-checkbox slot="start" formControlName="recordar"></ion-checkbox>
              <span>Recordarme</span>
            </label>
            <button type="button" class="link-btn" (click)="irARegistro()">쯅o tienes cuenta?</button>
          </div>

          <button type="submit" class="btn" [disabled]="isLoading">
            {{ isLoading ? 'Iniciando sesi칩n...' : 'Iniciar sesi칩n' }}
          </button>

          <div class="small">Ingresa tu email y contrase침a para acceder.</div>
        </form>
      </div>
    </section>
  </main>
</ion-content>
